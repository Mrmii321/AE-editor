<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AE Editor</title>
    <!-- Font Awesome Stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous">
    
    <!-- Your Custom CSS -->
    <link rel="stylesheet" href="style.css"></head>
<body>
    <div class="container">
        <h2>Enchantment Creator</h2>
        
        <div class="form-section">
            <!-- Left Column -->
            <div class="form-column">
                <label for="enchantmentName">Enchantment Name</label>
                <input type="text" id="enchantmentName" placeholder="Enter enchantment name..." style="font-size: 10pt;">

                <label for="enchantmentDescription">Enchantment Description</label>
                <textarea id="enchantmentDescription" placeholder="Enter enchantment description..."></textarea>
                
                <label for="group">Enchantment Group</label>
                <input type="text" id="group" placeholder="Enter group..." style="font-size: 10pt;">
            </div>

            <!-- Right Column -->
            <div class="form-column">
                <label for="material">Material</label>
                <select id="material">
                    <option value="">Select Material</option>
                </select>

                <label for="trigger">Enchantment Trigger | Ctrl+Click to choose multiple.</label>
                <select id="trigger" multiple>
                </select>

                <label for="appliesTo">Enchantment Application</label>
                <input type="text" id="appliesTo" placeholder="Enter enchantment applications..." style="font-size: 10pt;"/>
                </select>
            </div>
        </div>

        <!-- Add the levelList div here to display levels -->
        <div id="levelList">List of levels</div>
        <div id="conditionList">List of conditions</div>

        <!-- Buttons for adding and generating templates -->
        <div class="btn" onclick="showLevelPopup()">New Level</div>
        <div class="btn" onclick="showConditionsPopup()">Add Conditions</div>
        <div class="btn" onclick="generateTemplate()">Generate Template</div>
        <pre id="output"></pre>
        <!-- Add a copy button with Font Awesome icon -->
        <button class="btn" onclick="copyToClipboard()">
            <i class="fas fa-copy"></i> Copy
        </button>
    </div>

    <!-- Popup for Adding/Editing Level -->
    <div id="levelPopup" class="popup">
        <div class="popup-close" onclick="closeLevelPopup()">×</div>
        <div class="popup-header">Edit Level</div>

        <!-- Effect Section -->
        <div>
            <label for="effect">Effect</label>
            <select id="effect" onchange="loadArgsForEffect()">
                <option value="">Select Effect</option>
            </select>
            <div id="argsContainer"></div>
        </div>
        <hr>

        <!-- Target Section -->
        <div>
            <label for="target">Target</label>
            <select id="target" onchange="loadArgsForTarget()">
                <option value="">Select Target</option>
            </select>
            <div id="targetArgsContainer"></div>
        </div>
        <hr>

        <!-- Cooldown and Chance Section -->
        <div>
            <label for="cooldown">Cooldown</label>
            <input type="number" id="cooldown" placeholder="Enter cooldown...">
            
            <label for="chance">Chance</label>
            <input type="number" id="chance" placeholder="Enter chance...">
        </div>

        <div class="btn" id="saveLevelButton" onclick="saveLevel()">Save Level</div>
    </div>

    <!-- Popup for Conditions (Standalone) -->
    <div id="conditionsPopup" class="popup">
        <div class="popup-close" onclick="closeConditionsPopup()">×</div>
        <div class="popup-header">Edit Conditions</div>
        <p align="center" style="font-size: 10pt;">Some variables may need tinkering after generation</p>
        <hr>
    
        <!-- Conditions Section -->
        <div>
            <label for="conditionVariable">Condition Variable</label>
            <select id="conditionVariable" onchange="loadArgsForCondition()">
                <option value="">Select Condition Variable</option>
            </select>
    
            <!-- Dynamic arguments container -->
            <div id="conditionArgsContainer"></div>
            <hr>
    
            <label for="conditionComparison">Condition Comparison</label>
            <select id="conditionComparison">
                <option value="">Select Condition Comparison</option>
                <!-- Placeholder URL for condition comparisons -->
                <option value="comparisonPlaceholder"></option>
            </select>
    
            <label for="conditionQuery">Condition Query</label>
            <input type="text" id="conditionQuery" placeholder="Enter condition query...">
    
            <label for="conditionOutcome">Condition Outcome</label>
            <select id="conditionOutcome">
                <option value="">Select Condition Outcome</option>
                <!-- Placeholder URL for condition outcomes -->
                <option value="outcomePlaceholder"></option>
            </select>
    
            <!-- Optional Error Placeholder -->
            <div id="errorContainer" style="color: red; font-size: 0.85em; display: none;"></div>
            <hr>
        </div>
    
        <div class="btn" id="saveConditionsButton" onclick="saveCondition()">Save Conditions</div>
        <div class="btn" onclick="closeConditionsPopup()">Close</div>
    </div>
    

    <script src="script.js"></script>
</body>
</html>
